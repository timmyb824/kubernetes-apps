# THIS FILE IS A SECRET
globalArguments:
    - --global.sendanonymoususage=false
    - --global.checknewversion=false
additionalArguments:
    - --serversTransport.insecureSkipVerify=true
    - --log.level=INFO
deployment:
    enabled: true
    replicas: 3
    annotations: {}
    podAnnotations: {}
    additionalContainers: []
    initContainers: []
ports:
    web:
        redirectTo:
            port: websecure
    websecure:
        tls:
            enabled: true
ingressRoute:
    dashboard:
        enabled: false
providers:
    kubernetesCRD:
        enabled: true
        # can name this anything
        ingressClass: traefik-external
    kubernetesIngress:
        enabled: true
        publishedService:
            enabled: false
    file:
        enabled: true
        watch: true
        content: |
            tls:
              certificates:
                - certFile: /certs/tls.crt
                  keyFile: /certs/tls.key
              stores:
                default:
                  defaultCertificate:
                    certFile: /certs/tls.crt
                    keyFile: /certs/tls.key

            http:
              routers:
                watchyourlan:
                  rule: Host(`watchyourlan.local.timmybtech.com`)
                  service: watchyourlan
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                linkace:
                  rule: Host(`linkace.local.timmybtech.com`)
                  service: linkace
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                technitium:
                  rule: Host(`technitium.local.timmybtech.com`)
                  service: technitium
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                speedtest:
                  rule: Host(`speedtest.local.timmybtech.com`)
                  service: speedtest
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                nas:
                  rule: Host(`nas.local.timmybtech.com`)
                  service: nas
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                healthchecks:
                  rule: Host(`healthchecks.local.timmybtech.com`)
                  service: healthchecks
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                uptime-kuma:
                  rule: Host(`uptime-kuma.local.timmybtech.com`)
                  service: uptime-kuma
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                gotify:
                  rule: Host(`gotify.local.timmybtech.com`)
                  service: gotify
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                it-tools:
                  rule: Host(`it-tools.local.timmybtech.com`)
                  service: it-tools
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                pgweb-oci:
                  rule: Host(`pgweb-oci.local.timmybtech.com`)
                  service: pgweb-oci
                  entrypoints:
                    - websecure
                  tls:
                    certResolver: default
                pgweb:
                    rule: Host(`pgweb.local.timmybtech.com`)
                    service: pgweb
                    entrypoints:
                        - websecure
                    tls:
                        certResolver: default
                code-server:
                    rule: Host(`code-server.local.timmybtech.com`)
                    service: code-server
                    entrypoints:
                        - websecure
                    tls:
                        certResolver: default
              services:
                watchyourlan:
                  loadBalancer:
                    servers:
                      - url: http://192.168.86.217:8840
                linkace:
                  loadBalancer:
                    servers:
                      - url: http://192.168.86.240:718
                technitium:
                  loadBalancer:
                    servers:
                      - url: http://192.168.86.213:5380
                speedtest:
                  loadBalancer:
                    servers:
                      - url: http://192.168.86.240:8088
                nas:
                  loadBalancer:
                    passHostHeader: true
                    serversTransport: nas
                    servers:
                      - url: http://192.168.86.44:5001
                healthchecks:
                  loadBalancer:
                    servers:
                      - url: http://homelab-oci03.tbryant.headscale.com:8000
                uptime-kuma:
                  loadBalancer:
                    servers:
                      - url: http://homelab-oci03.tbryant.headscale.com:3001
                gotify:
                    loadBalancer:
                        servers:
                        - url: http://homelab-oci03.tbryant.headscale.com:8080
                it-tools:
                    loadBalancer:
                        servers:
                        - url: http://homelab-oci03.tbryant.headscale.com:5884
                pgweb-oci:
                    loadBalancer:
                        servers:
                        - url: http://homelab-oci03.tbryant.headscale.com:8083
                pgweb:
                    loadBalancer:
                        servers:
                        - url: http://vm303.tbryant.headscale.com:8081
                code-server:
                    loadBalancer:
                        servers:
                        - url: http://192.168.86.159:8680
              serversTransports:
                pve:
                    insecureSkipVerify: true
                nas:
                    insecureSkipVerify: true
volumes:
    - name: local-timmybtech-com-tls
      mountPath: /certs
      type: secret
additionalVolumeMounts:
    - name: local-timmybtech-com-tls
      mountPath: /certs
      readOnly: true
rbac:
    enabled: true
service:
    enabled: true
    type: LoadBalancer
    annotations: {}
    labels: {}
    spec:
        # this should be an IP in the MetalLB range
        loadBalancerIP: 192.168.86.224
    loadBalancerSourceRanges: []
    externalIPs: []
